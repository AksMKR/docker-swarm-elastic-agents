<!--
  ~ Copyright 2016 ThoughtWorks, Inc.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<div data-plugin-style-id="docker-swarm-plugin">

  <style>
    [data-plugin-style-id="docker-swarm-plugin"] .tooltip-info {
      position: relative;
      display:  inline-block;
      cursor:   pointer;
    }

    [data-plugin-style-id="docker-swarm-plugin"] .tooltip-info .tooltip-content {
      font-family:      "Open Sans", "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif;
      cursor:           auto;
      font-size:        0.78rem;
      text-transform:   none;
      background-color: #efefef;
      border:           1px solid #cacaca;
      border-radius:    3px;
      display:          block;
      padding:          1rem;
      position:         absolute;
      visibility:       hidden;
      width:            500px;
      z-index:          10;
      top:              100%;
      color:            #000;
    }

    [data-plugin-style-id="docker-swarm-plugin"] .tooltip-info .tooltip-content-right {
      right: 0;
    }

    [data-plugin-style-id="docker-swarm-plugin"] .tooltip-info:after {
      font-family:            'FontAwesome';
      content:                "\f05a";
      font-weight:            normal;
      font-style:             normal;
      display:                inline-block;
      text-decoration:        inherit;
      line-height:            1.8;
      font-size:              0.875rem;
      color:                  #0a0a0a;
      -webkit-font-smoothing: antialiased;
      margin:                 0 10px;
    }

    [data-plugin-style-id="docker-swarm-plugin"] .tooltip-info:hover .tooltip-content {
      visibility: visible;
    }

    [data-plugin-style-id="docker-swarm-plugin"] code {
      border:        none;
      background:    #ddd;
      border-radius: 3px;
      color:         inherit;
    }

    [data-plugin-style-id="docker-swarm-plugin"] textarea {
      font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
    }

    [data-plugin-style-id="docker-swarm-plugin"] .code {
      font-family:      Consolas, "Liberation Mono", Courier, monospace;
      padding:          16px;
      overflow:         auto;
      font-size:        0.8125rem;
      line-height:      1.45;
      background-color: #e6e6e6;
      border-radius:    3px;
    }

  </style>

  <div class="row">
    <div class="columns medium-4 large-3">
      <label ng-class="{'is-invalid-label': GOINPUTNAME[Image].$error.server}">Docker image:<span class="asterix">*</span></label>
      <input ng-class="{'is-invalid-input': GOINPUTNAME[Image].$error.server}" type="text" ng-model="Image" ng-required="true" placeholder="alpine:latest"/>
      <span class="form_error form-error" ng-class="{'is-visible': GOINPUTNAME[Image].$error.server}" ng-show="GOINPUTNAME[Image].$error.server">{{GOINPUTNAME[Image].$error.server}}</span>
    </div>

    <div class="columns medium-4 large-3">
      <label ng-class="{'is-invalid-label': GOINPUTNAME[ReservedMemory].$error.server}">Memory soft limit:</label>
      <input ng-class="{'is-invalid-input': GOINPUTNAME[ReservedMemory].$error.server}" type="text" ng-model="ReservedMemory" ng-required="true" rows="7" placeholder="512MB"/>
      <span class="form_error form-error" ng-class="{'is-visible': GOINPUTNAME[ReservedMemory].$error.server}" ng-show="GOINPUTNAME[ReservedMemory].$error.server">{{GOINPUTNAME[ReservedMemory].$error.server}}</span>
    </div>

    <div class="columns medium-4 large-3 end">
      <label ng-class="{'is-invalid-label': GOINPUTNAME[MaxMemory].$error.server}">Maximum hard limit:</label>
      <input ng-class="{'is-invalid-input': GOINPUTNAME[MaxMemory].$error.server}" type="text" ng-model="MaxMemory" ng-required="true" rows="7" placeholder="1024MB"/>
      <span class="form_error form-error" ng-class="{'is-visible': GOINPUTNAME[MaxMemory].$error.server}" ng-show="GOINPUTNAME[MaxMemory].$error.server">{{GOINPUTNAME[MaxMemory].$error.server}}</span>
    </div>
  </div>

  <div class="row">
    <div class="columns end">
      <label ng-class="{'is-invalid-label': GOINPUTNAME[Command].$error.server}">Docker Command:
        <small>(Enter one parameter per line)</small>
        <div class="tooltip-info">
          <span class="tooltip-content">
            Specify the command to run in the container. This allows you to override the <code>CMD</code> that is specified in
            the <code>Dockerfile</code>, or provide one in case the <code>Dockerfile</code> does not contain a <code>CMD</code>.
          <br/>
          <div class="code">
            ls<br/>
            al<br/>
            /usr/bin
          </div>
          <a href="https://docs.docker.com/engine/reference/builder/#cmd" target="_blank">Read more about <code>CMD</code></a>
          </span>
        </div>
      </label>
      <textarea ng-class="{'is-invalid-input': GOINPUTNAME[Command].$error.server}" type="text" ng-model="Command" ng-required="true" rows="7" placeholder="ls&#x000A;-al&#x000A;/usr/bin"></textarea>
      <span class="form_error form-error" ng-class="{'is-visible': GOINPUTNAME[Command].$error.server}" ng-show="GOINPUTNAME[Command].$error.server">{{GOINPUTNAME[Command].$error.server}}</span>
    </div>
  </div>

  <div class="row">
    <div class="columns end">
      <label ng-class="{'is-invalid-label': GOINPUTNAME[Environment].$error.server}">Environment Variables
        <small>(Enter one variable per line)</small>
        <div class="tooltip-info">
          <span class="tooltip-content">
            Specify the environment variables. This allows you to override the <code>ENV</code> that is specified in
            the <code>Dockerfile</code>, or provide new environment variables in case the <code>Dockerfile</code> does not
            contain any <code>ENV</code>.
            <br/>
            <div class="code">
              JAVA_HOME=/opt/java<br/>
              ANT_HOME=/opt/ant
            </div>
            <a href="https://docs.docker.com/engine/reference/builder/#env" target="_blank">Read more about <code>ENV</code></a>
          </span>
        </div>
      </label>
      <textarea ng-class="{'is-invalid-input': GOINPUTNAME[Environment].$error.server}" type="text" ng-model="Environment" ng-required="true" rows="7" placeholder="JAVA_HOME=/opt/java&#x000A;MAVEN_HOME=/opt/maven"></textarea>
      <span class="form_error form-error" ng-class="{'is-visible': GOINPUTNAME[Environment].$error.server}" ng-show="GOINPUTNAME[Environment].$error.server">{{GOINPUTNAME[Environment].$error.server}}</span>
    </div>
  </div>

  <div class="row">
    <div class="columns end">
      <label ng-class="{'is-invalid-label': GOINPUTNAME[Hosts].$error.server}">Host entries
        <div class="tooltip-info">
          <span class="tooltip-content">
            This allows users to add host entries in <code>/etc/hosts</code>.
            <div>Enter each host entry per line and in the following format:
              <div class="code">
                IP-ADDRESS HOSTNAME-1 HOSTNAME-2...<br/>
                172.10.0.1 host-x<br/>
                172.10.0.2 host-y host-z
              </div>
            </div>
          </span>
        </div>
      </label>
      <textarea ng-class="{'is-invalid-input': GOINPUTNAME[Hosts].$error.server}" type="text" ng-model="Hosts" ng-required="true" rows="7" placeholder="JAVA_HOME=/opt/java&#x000A;MAVEN_HOME=/opt/maven"></textarea>
      <span class="form_error form-error" ng-class="{'is-visible': GOINPUTNAME[Hosts].$error.server}" ng-show="GOINPUTNAME[Hosts].$error.server">{{GOINPUTNAME[Hosts].$error.server}}</span>
    </div>
  </div>
</div>